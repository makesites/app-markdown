/**
 * @name app.markdown
 * An APP() extension to parse and display Markdown pages as views
 *
 * Version: 0.1.0 (Thu, 19 Dec 2024 07:26:20 GMT)
 * Source: http://github.com/makesites/app-markdown
 *
 * @author makesites
 * Initiated by: Makis Tracend (@tracend)
 * Distributed through [Makesites.org](http://makesites.org)
 *
 * @cc_on Copyright Â© Makesites.org
 * @license Released under the [MIT license](http://makesites.org/licenses/MIT)
 */
import{APP}from"https://cdn.jsdelivr.net/gh/makesites/app/dist/app.min.js";import*as $ from"https://cdn.jsdelivr.net/gh/jquery/jquery@3.7.1/dist/jquery.min.js";import*as _ from"https://cdn.jsdelivr.net/npm/underscore@1.12.1/underscore-esm-min.js";var compiler,Showdown=window.showdown||!1;if(_.mixin({ucwords:function(e){return(e+"").replace(/^([a-z])|\s+([a-z])|-([a-z])/g,(function(e){return e.toUpperCase()}))}}),Showdown.Converter){var lib=new Showdown.Converter;compiler=lib.makeHtml.bind(lib)}else compiler=(new Showdown.converter).makeHtml;var TemplateParent=APP.Template;class Template extends TemplateParent{}Template.prototype.compile=compiler;var ViewParent=APP.View;class Markdown extends ViewParent{initialize(e){var t=e.parseName||this.options.parseName?this._parseName(e.page):e.page;return this.options.url=this.options.mdRoot+t+".md",super.initialize(e)}processLink(e){e.preventDefault();var t="A"==e.target.tagName?$(e.target):$(e.target).closest("a"),r=this.options.pathRoot;r+=t.attr("href"),/(file|http).*/.test(r)&&(window.location=r),r=r.replace("./wiki","").replace("./",""),app.navigate(r,!0)}_parseName(e){return e=_.ucwords(e)}}export{Template,Markdown as View};