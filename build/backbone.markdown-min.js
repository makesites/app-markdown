!function(e){"function"==typeof define&&define.amd?define(["jquery","underscore","backbone","backbone.app"],e):e(window.jQuery,window._,window.Backbone,window.APP)}(function(e,t,o,n){var i="undefined"!=typeof n&&"undefined"!=typeof n.View,a=i?n.View:o.View;t.mixin({ucwords:function(e){return(e+"").replace(/^([a-z])|\s+([a-z])|-([a-z])/g,function(e){return e.toUpperCase()})}});var r=n.Template.extend({compile:(new Showdown.converter).makeHtml}),p=a.extend({options:{template:r,mdRoot:"assets/html/",parseName:!1},events:{"click a":"processLink"},initialize:function(e){var t=e.parseName||this.options.parseName?this._parseName(e.page):e.page;return this.options.url=this.options.mdRoot+t+".md",n.View.prototype.initialize.call(this,e)},processLink:function(t){t.preventDefault();var o="A"==t.target.tagName?e(t.target):e(t.target).closest("a"),n=o.attr("href");/(file|http).*/.test(n)&&(window.location=n),n=n.replace("./wiki","").replace("./",""),app.navigate(n,!0)},_parseName:function(e){return e=t.ucwords(e)}});"object"==typeof module&&module&&"object"==typeof module.exports&&(module.exports=p),"object"==typeof window&&"object"==typeof window.document&&(i&&(n.Templates.Markdown=r,n.Views.Markdown=p,window.APP=n),o.Markdown=p,window.Backbone=o)});